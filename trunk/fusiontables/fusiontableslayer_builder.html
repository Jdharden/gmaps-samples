<!DOCTYPE html> 

<!--
  copyright (c) 2011 Google inc.

  You are free to copy and use this sample.
  License can be found here: http://code.google.com/apis/ajaxsearch/faq/#license
-->
<html>

<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 

<title>FusionTablesLayer Builder</title>

<style>
  body { font-family: Arial, sans-serif; }
  .right { float: right; }
  label { clear: both; }
</style>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="script/builder.js"></script>

</head>

<body onload="initialize();">

<h1>FusionTablesLayer Builder</h1>

<div style="float:left; width: 300px; margin: 0 50px 20px 0;">
	
	<h2>Edit Map</h2>
	<label>Width: </label><input type="text" id="mapwidth" class="right" /><br /><br />
	<label>Height: </label><input type="text" id="mapheight" class="right" /><br /><br />
	<label>Map Center: </label><input type="text" id="mapCenter" class="right" /><br /><br />
	<label>Zoom: </label> <input type="text" id="mapZoom" class="right" /><br /><br />
	<input type="button" onclick="editMap();" value="Edit Map" class="right" />
	
	<h2>Add layer</h2>
	<label>Your table id: </label><input type="text" id="tableid" class="right" onblur="fillSelectColumns();" onkeydown="disableSelectMenus()" /><br /><br />
	<label>Location Column: </label><select id="locationColumn" class="right" disabled="true">
		<option value="">--Select--</option>
	</select><br /><br />
	<input type="button" onclick="addLayer();" value="Add Layer" class="right" />

	<h2>Add search</h2>
	<select id="queryType" onchange="showDiv(this.value)">
		<option value="text">Add text based search</option>
		<option value="select">Add select based search</option>
	</select><br /><br />
	<div id="text">
		<label>Text Label: </label><input type="text" id="textQueryLabel" class="right" /><br /><br />
		<label>Column to query: </label><select id="textQueryColumn" class="right" disabled="true">
			<option value="">--Select--</option>
		</select><br /><br />
		<input type="button" onclick="addQuery();" value="Add Search" class="right" />
	</div>
	<div id="select" style="display: none;">
		<label>Select Label: </label><input type="text" id="selectQueryLabel" class="right" /><br /><br />
		<label>Column to query: </label><select id="selectQueryColumn" class="right" disabled="true">
			<option value="">--Select--</option>
		</select><br /><br />
		<input type="button" onclick="addSelectQuery();" value="Add Search" class="right" />
	</div>
	
</div>

<div id="map_section" style="float: left;">
	<h2>Preview</h2>
	<div id="map_canvas"></div>
</div>

<div style="clear: both;">
  <h2>Your HTML</h2>
	<textarea id="htmlCode" style="width: 900px; height: 500px;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
  #map_canvas { width: 500px; height: 400px; }
&lt;/style&gt;

&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var map;

function initialize() {
  map = new google.maps.Map(document.getElementById('map_canvas'), {
    center: new google.maps.LatLng(0, 0),
    zoom: 1, //zoom
    mapTypeId: google.maps.MapTypeId.ROADMAP //the map style
  });
}
&lt;/script&gt;

&lt;/head&gt;
&lt;body onload="initialize();"&gt;

&lt;div id="map_canvas"&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
	</textarea>
</div>

</body>

</html>
